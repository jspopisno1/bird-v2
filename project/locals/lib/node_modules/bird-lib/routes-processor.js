module.exports = {
    process: function(routes, pathname) {

        var hitRouteInfo = null

        routes.some(function(route) {
            var rgx = new RegExp('^' + route.test)
            var result = rgx.exec(pathname)
            if (result) {
                hitRouteInfo = {route: route}
                
                hitRouteInfo.pathname = pathname
                if (route.static) {
                    console.log('@debug, ', rgx, pathname)
                    hitRouteInfo.adjustedPathname = pathname.replace(rgx, '')
                } else if (route.mock) {
                    hitRouteInfo.adjustedPathname = pathname.replace(rgx, route.mock)
                } else if (route.replace) {
                    hitRouteInfo.adjustedPathname = pathname.replace(rgx, route.replace)
                } else {
                    hitRouteInfo.adjustedPathname = pathname
                }
                return true
            }
        })
        
        return hitRouteInfo
    }
}